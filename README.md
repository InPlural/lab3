# Лабораторная работа 3

В данной работе была выполнена настройка двух дополнительных виртуальных машин с дистрибутивом Linux Mint на Oracle VirtualBox, был организован доступ в интернет для каждой машины, а также установлены сетевые соединения между ними. Целью работы является демонстрация возможности сетевого взаимодействия и ограничение доступа между виртуальными машинами.

## Задание

Необходимо настроить виртуальную машину А с Ubuntu (желательно, но можно и другую Linux подобную ОС) в VirtualBox.
Обеспечить доступ в сеть Интернет. Осуществить проверку этого доступа и приложить скриншот из терминала.
Следующим шагом настроить ещё одну виртуальную машину Б.
После чего обеспечить сетевой доступ от машины А к машину Б. Приложить скриншот из терминала.
Поднять ещё одну виртуальную машину В. Организовать сетевой доступ:

1. из машины А в машину Б,
2. из машины А в машину В,
3. но запретить доступ из машины Б в машину В,
4. приложить скриншот, на котором видно терминалы всех трёх машин и видно что между машинами есть (или нет) доступа.

### Ход работы

Для начала создаем две дополнительных виртуальных машины. Я выбрала дистрибутив Linux Mint, так как он менее требовательный. Изначальная машина использует дистрибутив Ubuntu.

## Настройка сети на виртуальной машине А

Для доступа к другим узлам сети выбираю в настройках типа подключения "сетевой мост".

![image](https://github.com/user-attachments/assets/8bb07996-b727-45cf-83f8-c06fe2061181)

Теперь проверяем, имеет ли первая машина доступ к интернету. Для этого я использовала команду `ping`.

![image](https://github.com/user-attachments/assets/33ad9995-7f23-4b0a-a672-bfc423e3a174)

Как мы видим, доступ к интернету есть.

## Повторим эим шаги с другими машинами

Сначала для Б:
![image](https://github.com/user-attachments/assets/c577ee50-19d1-4013-8b6f-95f08f98d8cf)
![image](https://github.com/user-attachments/assets/4b362f06-c45e-4b97-a004-6fd1a0c7f657)


Потом для В:
![image](https://github.com/user-attachments/assets/e2c2463c-1a28-4d36-bf23-d506d6ccec59)
![image](https://github.com/user-attachments/assets/3886f89e-cd96-46cc-aafc-dbacfa7c6faa)

## Узнаем IP-адреса каждой машины

Для этого я использую команду `hostname` с ключом `-I`. Команда выводит все сетевые адреса системы, кроме loopback интерфейса.

![image](https://github.com/user-attachments/assets/027cf111-aba5-495b-aeb5-a140817931f1)
![image](https://github.com/user-attachments/assets/5fb244d7-5b7d-423e-880a-b46bba25a5d9)
![image](https://github.com/user-attachments/assets/1c537688-9198-4acc-b967-e65a90897117)

IP-фдреса машин: `192.168.0.134`, `192.168.0.100`, `192.168.0.182`.

## Ограничения доступа

Для того, чтобы ограничить доступ из машины Б в маишну В, я использую `iptables`, которая используется для управления встроенным брендмауэром netfilter.

![image](https://github.com/user-attachments/assets/5b8595dd-f469-486e-8b1f-901305baf59c)

Команда `sudo iptables -A OUTPUT -d 192.168.0.100 -j DROP` не дает машине В отправлять машине Б какие-либо пакеты -- они выбрассываются до того, как будут получены.

Теперь проверим с помощью `ping`, как подключены друг к другу виртуальные машины:

![image](https://github.com/user-attachments/assets/e49479df-da05-4800-a454-0415de51b2bb)

Как мы видим, машина А может пинговать машины Б и В, но машина Б не может пинговать машину В.
